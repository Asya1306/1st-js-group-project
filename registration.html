<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Alegreya&family=Amatic+SC&family=Roboto&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="assets/style/registration.css" />
  <title>Document</title>
</head>

<body>
  <div class="general_container">
    <div class="container3">
      <aside class="rectangle">
        <img src="assets/home.svg" alt="home" class="img" />
        <img src="assets/profile.svg" alt="profile" class="img" />
        <img src="assets/exit.svg" alt="exit" class="img" />
      </aside>
      <div class="pokemon__left">
        <img src="assets/avatar3.svg" alt="pokemon" class="pokemon" />
      </div>
      <div class="container">
        <div>
          <h1 class="h1">Регистрация</h1>
        </div>
        <div class="reg_field" id="name_input">
          <label for="username" class="label">Имя пользователя</label>
          <input type="text" class="input" id="username" required placeholder="Логин" />
        </div>
        <div class="reg_field" id="email_input">
          <label for="email" class="label">Адрес электронной почты</label>
          <input type="text" class="input" pattern="/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i" id="email" required
            placeholder="Электронная почта" />
        </div>
        <div class="password_container" id="password_input">
          <label for="password" class="reg_field label">Пароль</label>
          <input type="password" placeholder="Пароль"
            pattern="/^(?=.*[A-Z].*[A-Z])(?=.*[!@#$&*])(?=.*[0-9].*[0-9])(?=.*[a-z].*[a-z].*[a-z]).{8,}$/" class="input"
            id="password1" required />
        </div>
        <div class="reg_field" id="repet_password_input">
          <label for="repeat_password" class="label">Повторите пароль ещё раз</label>
          <input type="password" class="input"
            pattern="/^(?=.*[A-Z].*[A-Z])(?=.*[!@#$&*])(?=.*[0-9].*[0-9])(?=.*[a-z].*[a-z].*[a-z]).{8,}$/"
            id="password2" required placeholder="Повторите пароль" />
        </div>
        <button id="button" class="button" onclick="checkInputs()">
          Зарегистрироваться
        </button>
      </div>
    </div>
    <div class="container__img">
      <img src="assets/avatar2.svg" alt="pokemon" class="pokemon" />
      <img src="assets/avatar4.svg" alt="pokemon" class="pokemon" />
    </div>
  </div>
  <script>
    let error = false;
    function checkInputs() {
      const userInput = document.getElementById("name_input");
      const username = document.getElementById("username").value;
      const email = document.getElementById("email").value;
      const emailInput = document.getElementById("email_input");
      const password1 = document.getElementById("password1").value;
      const password1Input = document.getElementById("password_input");
      const repeatInput = document.getElementById("repet_password_input");
      const password2 = document.getElementById("password2").value;
      const error1 = document.getElementById('errorId');
      const error2 = document.getElementById('errorMail');
      const error3 = document.getElementById('errorPassword');
      const error4 = document.getElementById('errorRepeatPassword');
      const error5 = document.getElementById('samePassword');
      checkUsername()
      checkEmail()
      checkPassword()
      checkRepeat()
      checkSamePassword()
    }
    function checkUsername() {
      if (error1) {
        userInput.removeChild(error1);
      }
      if (username === "") {
        const error1 = document.createElement('div');
        const error1text = document.createTextNode('Заполните поле!');
        error1.id = 'errorId'
        error1.appendChild(error1text);
        userInput.appendChild(error1);
        error = true;
      } else {
        error = false;
      }
    }
    function checkEmail() {
      if (error2) {
        emailInput.removeChild(error2);
      }
      if (email === "") {
        const error2 = document.createElement('div');
        const error2text = document.createTextNode('Заполните поле!');
        error2.id = 'errorMail';
        error2.appendChild(error2text);
        emailInput.appendChild(error2);
        error = true;
      } else {
        error = false;
      }
    }
    function checkPassword() {
      if (error3) {
        password1Input.removeChild(error3);
      }
      if (password1 === "") {
        const error3 = document.createElement('div');
        const error3text = document.createTextNode('Заполните поле!');
        error3.id = 'errorPassword'
        error3.appendChild(error3text);
        password1Input.appendChild(error3);
        error = true;
      } else {
        error = false;
      }
    }
    function checkRepeat() {
      if (error4) {
        repeatInput.removeChild(error4);
      }
      if (password2 === "") {
        const error4 = document.createElement('div');
        const error4text = document.createTextNode('Заполните поле!');
        error4.id = 'errorRepeatPassword'
        error4.appendChild(error4text);
        repeatInput.appendChild(error4);
        error = true;
      } else {
        error = false;
      }
    }
    function checkSamePassword() {
      if (error5) {
        repeatInput.removeChild(error5);
      }
      if (password1 !== password2) {
        const error5 = document.createElement('div');
        const error5text = document.createTextNode('Пароли не совпадают!');
        error5.id = 'samePassword'
        error5.appendChild(error5text);
        repeatInput.appendChild(error5);
        error = true;
      }
      else {
        error = false
      }
    }
  </script>
</body>

</html>